
Survey.Survey.cssType = "bootstrap";
Survey.defaultBootstrapCss.navigationButton = "btn btn-green";

Survey.JsonObject.metaData.addProperty("dropdown", {name: "renderAs", default: "standard", choices: ["standard", "imagepicker"]});

window.survey = new Survey.Model({ title: 'Ello Client Experience - Dear Ellotheans, please take a moment to do this survey. Please select any client/clients you feel are problematic clients. You can list each clients potential issues and then recommend a solution.', showProgressBar: 'top', pages: [{
    questions: [

        {
            type: "text",
            isRequired: true,
            name: "Email:"
        }



    ]},{ questions: [
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Agrimotion Consulting Pty (Ltd)"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "AHT Africa"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Aqua Vista Guest House"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Asara Wine Estate & Hotel (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Beyerskloof Wines (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Capital Harvest IT & Admin (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Cavalli Wine and Stud (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Crowe Horwarth RMA (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "CSM Consulting Services (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "De Zalze Golf Club"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "De Zalze Lodge (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Devonvale Golf & Wine Estate"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Dr Harold Bloch"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Dr MJ Abelson Inc"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Ello Technology SA (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Emma Pardoe CA (SA)"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Extreme Fibre Africa"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Fincon Management Services CC"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Grande Provence Properties (PTY) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "GS Productions"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Hazendal Wine Estate (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Helderberg Village Master Homeowners Assoc."
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Helderberg Yamaha"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "HGG Operations"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "HH NG Kerk"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "HKQS"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Imalivest (PTY) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Imvusa Stainless (PTY) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Jacana Guest Farm"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Jade Properties"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Kanonkop Wine Estate"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "King David Mowbray Golf Club"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Land Rover Experience"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Lanicento"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Le Franschhoek Hotel (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Marsh Green Risk Assurance (Pty) Ltd"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "MDOT Design Studio"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Metro Clean Services CC"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Mount Vernon - Gravel Junction Wine & Spirit"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "New Generation Church International"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Otto Wireless Solutions"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Personal Touch Secretarial Services"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Privatactus Incorporated"
    },
    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Raymond McCreath Incorporated"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "RDK Plant (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "SA Inshore Fishing Industry Ass. T/A Feedcom"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Sanctuary Family Trust"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Shibbolet Property Developments (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "South African Disabled Golf Association"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Southern Fruit Growers"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Sparkle Tombstones and Counters"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Star Express CC"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Stellcap (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Stellenbosch Hills (Co-Op) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Steyl Panelbeaters"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Switch Consultants (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Theebo Tech Pty Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Treasury Trust Services (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Treoc Holding (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "TUV Nord Southern Africa (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Vecto Finance (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Villiera Wines (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Vizier Systems (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Wiehahn Property Management (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Winelands Golf Lodges Club (Pty) Ltd"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Zimele Technologies"
    },

    {
        type: "multipletext",
        colCount: 2,
        items: [
            {
                name: "Potential Issues:"
            },
            {
                name: "Propose Solution"
            }
        ],
        name: "Zorgvliet Wines (Pty) Ltd"
    }

]}
]});

    //survey.onComplete.add(function(result) {
	//document.querySelector('#surveyResult').innerHTML = "result: " + JSON.stringify(result.data);
    //});

var widget = {
    name: "imagepicker",
    isFit : function(question) { return question["renderAs"] === 'imagepicker'; },
    isDefaultRender: true,
    afterRender: function(question, el) {

        var $el = $(el).find("select");

        var options = $el.find('option');
        for (var i=1; i<options.length; i++) {
            $(options[i]).data("imgSrc", options[i].text);
            options[i].selected = question.value == options[i].value;
        }
        $el.imagepicker({
            hide_select : true,
            show_label  : false,
            selected: function(opts) {
                question.value = opts.picker.select[0].value;
            }
        })
    }

        ,
        willUnmount: function(question, el) {
            var $el = $(el).find("select");
            $el.data('picker').destroy();
        }

}

Survey.CustomWidgetCollection.Instance.addCustomWidget(widget);




ReactDOM.render(<Survey.Survey model={survey}/>, document.getElementById("surveyElement"));



window.surveyForceUpdate = function() {
    document.getElementById("surveyElement").innerHTML = "";

    ReactDOM.render(<Survey.Survey model={survey}/>, document.getElementById("surveyElement"));

}




survey.onComplete.add (function (result) {
// Initialize Firebase
    var config = {
        apiKey: "AIzaSyDNy5TZzKlvMPYQ9z9ER7s2A-GV1VyhsiI",
        authDomain: "customerrating-95674.firebaseapp.com",
        databaseURL: "https://customerrating-95674.firebaseio.com",
        projectId: "customerrating-95674",
        storageBucket: "customerrating-95674.appspot.com",
        messagingSenderId: "581072608517"

    };
    firebase.initializeApp(config);

    const preObject = document.getElementById('object');

    const dbRefObject = firebase.database().ref().child('object');

    dbRefObject.push().set(result.data);

    dbRefObject.on('value', snap => console.log(snap.val()));

});


